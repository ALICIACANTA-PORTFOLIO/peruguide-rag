# PeruGuide AI - Environment Variables Template
# Copy this file to .env and fill in your values

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
APP_NAME=PeruGuide AI
APP_VERSION=0.1.0
ENVIRONMENT=development  # development, staging, production
DEBUG=true
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# ============================================================================
# API SETTINGS
# ============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true
API_WORKERS=1

# CORS Settings
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8501"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ============================================================================
# LLM SETTINGS
# ============================================================================
# Model Configuration
LLM_MODEL_NAME=mistralai/Mistral-7B-Instruct-v0.3
LLM_TEMPERATURE=0.3
LLM_MAX_TOKENS=512
LLM_TOP_P=0.9
LLM_REPETITION_PENALTY=1.1

# API Keys (if using hosted models)
# OPENAI_API_KEY=sk-...
# ANTHROPIC_API_KEY=sk-ant-...
# MISTRAL_API_KEY=...

# Local Model Path (if running locally)
LLM_LOCAL_PATH=./models/mistral-7b-instruct

# ============================================================================
# EMBEDDING SETTINGS
# ============================================================================
EMBEDDING_MODEL_NAME=sentence-transformers/paraphrase-multilingual-mpnet-base-v2
EMBEDDING_DIMENSION=768
EMBEDDING_BATCH_SIZE=32
EMBEDDING_DEVICE=cpu  # cpu or cuda

# ============================================================================
# VECTOR STORE SETTINGS
# ============================================================================
VECTOR_STORE_TYPE=chroma  # faiss or chroma
VECTOR_STORE_PATH=./data/vector_stores

# FAISS Settings
FAISS_INDEX_TYPE=IndexFlatL2
FAISS_METRIC_TYPE=cosine

# ChromaDB Settings
CHROMA_COLLECTION_NAME=peruguide_documents
CHROMA_PERSIST_DIRECTORY=./data/vector_stores/chroma

# ============================================================================
# RETRIEVAL SETTINGS
# ============================================================================
RETRIEVAL_TOP_K=5
RETRIEVAL_SCORE_THRESHOLD=0.7
RETRIEVAL_FETCH_K=20
RETRIEVAL_SEARCH_TYPE=similarity  # similarity or mmr

# Reranking
ENABLE_RERANKING=false
RERANKING_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2
RERANKING_TOP_K=3

# ============================================================================
# DATA PROCESSING SETTINGS (AGNÓSTICO - Configurar según tus materiales)
# ============================================================================
# Chunking Configuration
CHUNK_SIZE=512
CHUNK_OVERLAP=64
CHUNK_SEPARATORS=["\n\n", "\n", ".", " ", ""]

# PDF Loading - CONFIGURAR SEGÚN TU FUENTE DE DATOS
# Ejemplos:
#   - PDF_SOURCE_DIR=./data/raw/pdfs
#   - PDF_SOURCE_DIR=./Complementarios Peru
#   - PDF_SOURCE_DIR=./data/raw/turismo
PDF_SOURCE_DIR=./data/raw
PDF_RECURSIVE=true
PDF_FILE_PATTERN=*.pdf  # Agnóstico: cualquier PDF

# Metadata Extraction (opcional, ajustar según necesidad)
EXTRACT_METADATA=true
METADATA_FIELDS=["filename", "category", "region"]  # Personalizable

# ============================================================================
# EVALUATION SETTINGS
# ============================================================================
ENABLE_RAGAS_EVALUATION=true
RAGAS_TEST_DATASET_PATH=./src/evaluation/test_dataset.json
RAGAS_METRICS=["faithfulness", "answer_relevancy", "context_precision", "context_recall"]

# RAGAS LLM (for evaluation)
RAGAS_LLM_MODEL=gpt-4  # Recommended: GPT-4 for best evaluation
RAGAS_LLM_TEMPERATURE=0.0

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
# Prometheus
ENABLE_METRICS=true
METRICS_PORT=9090

# Structured Logging
LOG_FORMAT=json  # json or console
LOG_FILE_PATH=./logs/peruguide.log
LOG_ROTATION=1 day
LOG_RETENTION=30 days

# Sentry (Error Tracking)
# SENTRY_DSN=https://...@sentry.io/...
# SENTRY_ENVIRONMENT=development

# ============================================================================
# SECURITY
# ============================================================================
# API Authentication (optional)
ENABLE_AUTH=false
# JWT_SECRET_KEY=your-secret-key-here-change-in-production
# JWT_ALGORITHM=HS256
# JWT_EXPIRATION_HOURS=24

# API Keys for external access
# API_KEY_HEADER_NAME=X-API-Key
# VALID_API_KEYS=["key1", "key2"]

# ============================================================================
# DATABASE (Optional - for feedback/analytics)
# ============================================================================
# DATABASE_URL=postgresql://user:password@localhost:5432/peruguide
# DATABASE_POOL_SIZE=10
# DATABASE_MAX_OVERFLOW=20

# ============================================================================
# STREAMLIT UI SETTINGS
# ============================================================================
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=0.0.0.0
STREAMLIT_BROWSER_GATHER_USAGE_STATS=false

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================
# Testing
PYTEST_TIMEOUT=300
TEST_COVERAGE_THRESHOLD=75

# Pre-commit
ENABLE_PRE_COMMIT_HOOKS=true

# ============================================================================
# DEPLOYMENT SETTINGS
# ============================================================================
# Docker
DOCKER_IMAGE_NAME=peruguide-rag
DOCKER_IMAGE_TAG=latest
DOCKER_REGISTRY=ghcr.io/yourusername

# Cloud Deployment (optional)
# AWS_REGION=us-east-1
# AZURE_SUBSCRIPTION_ID=...
# GCP_PROJECT_ID=...
